<?phpclass home_public extends ObjectPublic{ 	function __construct(){            global $vsTemplate;            parent::__construct('products', CORE_PATH.'products/', 'products');                        $this->html = $vsTemplate->load_template('skin_home');      	}        	function showDefault(){		global $vsSettings,$vsMenu,$bw,$vsTemplate,$DB,$vsStd,$vsLang;		$categories = $vsMenu->getCategoryGroup("products");      	$strIds = $vsMenu->getChildrenIdInTree($categories);       	       	$option['cate'] = $categories->getChildren();       	$size  = $vsSettings->getSystemKey("{$bw->input[0]}_user_item_quality",8,$bw->input[0]);		       	$option['pro_new'] = $this->model->getHotList("products",$size);       	$strId_new ="";		if($option['pro_new']){			$newIds = array_keys($option['pro_new']);			$option['strId_new'] .= implode(",",$newIds);	    	$this->model->convertFileObject($option['pro_new'],'products');		}		    	      	        $this->model->setFieldsString("productId,productTitle,productImage,productCatId,productIntro");		$this->model->setOrder("productId Desc");        $this->model->setCondition("productCatId in ( {$strIds}) and productStatus = 3");        $this->model->setLimit(array(0, $size));       	$option['banchay'] =  $this->model->getObjectsByCondition();         	if($option['banchay']){       		$hotIds = array_keys($option['banchay']);			$option['strId_hot'] .= implode(",",$hotIds);	    	$this->model->convertFileObject($option['banchay'],'products');        	}    	return $this->output = $this->html->showDefault($option);		}}?>